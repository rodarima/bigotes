# Bigotes: Versatile benchmark tool

The bigotes program is a versatile tool runs to perform automatic benchmark
measurements and report statistical information. A single quantity is sampled
multiple times by either running again a given program or by reading the values
from the standard input. The typical quantity is the execution time, but others
can be used too.

The execution of the program is repeated until at least 30 samples are
collected, 30 seconds have elapsed and the Standard Error of the Mean (SEM) is
small. All those criteria must be met to stop collecting samples.

See the bigotes(1) manual page for more details.

## Examples

1. Run the `b6_heat_nanos6` benchmark with the given parameters in a remote
machine by using `srun`:
```
$ srun -u -c56 bigotes b6_heat_nanos6 -s 1024 -t 10 -b 64
  RUN   WALL       MIN        Q1    MEDIAN        Q3       MAX       MAD   %MAD   %SEM  OUTLIERS
  326   30.0  1.03e-02  1.32e-02  1.34e-02  1.35e-02  1.42e-02  1.35e-04   1.01   0.15        34

                                                        █
                                                      ▃▃███
                                                      █████▁
                                                     ▄██████▁
                                                     ████████
                                                    █████████
                                                    █████████▄
 ▄▁▆▄▁▃▄▄▃ ▁     ▁  ▁ ▃▄▁▁  ▁▁                  ▄▁▄███████████▃▃▄▃▃▁  ▁

Shapiro-Wilk: W=5.67e-01, p-value=1.15e-27 (NOT normal)
```

2. Ping a remote host and take the time as the measurement using a pipe
(note the escaping for the shell):
```
$ bigotes -s "ping -c 1 1.1.1.1 | awk -F'=' '/time=/ { print \\$4 }' | cut -d' ' -f1"
  RUN   WALL       MIN        Q1    MEDIAN        Q3       MAX       MAD   %MAD   %SEM  OUTLIERS
  914   30.0  1.72e+01  1.85e+01  1.91e+01  1.96e+01  4.30e+01  5.00e-01   2.62   0.26        11

     ▁█
     ██
   ▁ ██▁
   █▅███▁
   ██████
   ██████
  ▄██████▅
 ▂████████▃▂▂▁▁   ▁ ▁▁ ▁   ▁ ▁                   ▁                    ▁

Shapiro-Wilk: W=5.47e-01, p-value=2.60e-43 (NOT normal)
```

3. Read the measurements from the standard input, generated by a Gaussian
distribution using the `gsl-randist` tool:
```
% gsl-randist 0 500 gaussian 0.5 | bigotes -i
  RUN   WALL       MIN        Q1    MEDIAN        Q3       MAX       MAD   %MAD   %SEM  OUTLIERS
  500    0.0  -1.34e+00  -3.11e-01  1.78e-03  3.57e-01  1.67e+00  3.33e-01  18665.43  162.80         0

                        ▂     █▂ ▂  █
                        █▇   ▇██▄█  █ ▁
                        ██ ▁ █████▁▁█ █ ▆▃
                    ▂▅▅▅██▂█▅████████ █ ██   ▅
                    █████████████████ █ ██ ▂▅█
               ▁▁▄  █████████████████▇█▇██▄███▄▄▇▄  ▄
    ▁▁    ▁ ▆▁▁███▃▆██████████████████████████████ ▆█ ▃   ▁
 ▅▂▂██▂▂ ▂█ ██████████████████████████████████████▅██▅█▂▅▅█▂▂▂ ▂ ▅

Shapiro-Wilk: W=9.97e-01, p-value=4.11e-01 (may be normal)
```
